<div class="page-header">
  <h3 class="page-title"><span class="page-title-icon bg-gradient-primary text-white me-2"><i class="mdi mdi-account-key"></i></span> Students</h3>
</div>

{% if users|length %}
  <form hx-get="{% url 'students' %}" hx-target="#main-content" hx-push-url="true" class="mb-3 d-flex align-items-center gap-3">
    <input class="form-control w-25" name="query" type="text" placeholder="Search for student" />
    <button type="button" hx-get="{% url 'students' %}" hx-target="#main-content" hx-push-url="true" class="btn btn-md btn-secondary">Clear</button>
  </form>

  <table class="table table-hover bg-white">
    <thead>
      <tr class="p-3">
        <th>Firstname</th>
        <th>Lastname</th>
        <th>Matric No</th>
        <th>Email</th>
        <th>Department</th>
        <th>Level</th>
        <th>Phone Number</th>
      </tr>
    </thead>
    <tbody>
      {% for student in students %}
        <tr>
          <td>{{ student.first_name }}</td>
          <td>{{ student.last_name }}</td>
          <td>{{ student.matric_no }}</td>
          <td>{{ student.email }}</td>
          <td>{{ student.department.name }}</td>
            <td>{{ student.level.name }}</td>
            <td>{{ student.phone }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <div style="display: flex; justify-content: end;" class="mt-3">
    {% if students.has_previous %}
      <button hx-get="?page={{ students.previous_page_number }}" hx-target="#main-content" hx-push-url="true" class="btn btn-icon"><i class="mdi mdi-chevron-left"></i></button>
    {% else %}
      <button disabled class="btn btn-icon"><i class="mdi mdi-chevron-left"></i></button>
    {% endif %}

    <button disabled class="btn btn-icon">{{ students.number }}</button>

    {% if students.has_next %}
      <button hx-get="?page={{ students.next_page_number }}" hx-target="#main-content" hx-push-url="true" class="btn btn-icon"><i class="mdi mdi-chevron-right"></i></button>
    {% else %}
      <button disabled class="btn btn-icon"><i class="mdi mdi-chevron-right"></i></button>
    {% endif %}
  </div>
{% else %}
  <p class="text-center">Sorry, No students to show</p>
{% endif %}
